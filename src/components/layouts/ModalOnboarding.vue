<template>
    <div class="dialog flx ai-c jc-c">
        <div id="onboarding_modal" class="modal relative">
            <div class="h-100">
                <div class="onboard-top ft-white flx ai-fs column gap-16">
                    <svg xmlns="http://www.w3.org/2000/svg" height="30" viewBox="0 0 122.791 30.377">
                        <path d="M-1872.026-2439.461a3.124,3.124,0,0,1-2.13-1.729,5.175,5.175,0,0,1-.086-4.284,3.181,3.181,0,0,1,1.8-1.77,4.616,4.616,0,0,1,3.8.019,2.239,2.239,0,0,1,1.048.9,1.648,1.648,0,0,1,.2.6.647.647,0,0,1-.394.7.807.807,0,0,1-.937-.116,3.309,3.309,0,0,1-.321-.386,1.547,1.547,0,0,0-1.162-.63,3.8,3.8,0,0,0-.682,0,1.858,1.858,0,0,0-1.6,1.121,3.825,3.825,0,0,0-.07,3.073,2.13,2.13,0,0,0,3.337.768,1.655,1.655,0,0,0,.555-1.144h-1.059a1.962,1.962,0,0,1-.392-.024.638.638,0,0,1-.544-.726.6.6,0,0,1,.654-.618q1.186-.015,2.37,0a.589.589,0,0,1,.658.646c.017,1.028.013,2.06,0,3.088a.577.577,0,0,1-.48.59.616.616,0,0,1-.742-.358c-.075-.169-.118-.354-.187-.563-.1.09-.177.159-.252.229a2.7,2.7,0,0,1-1.852.752c-.1,0-.191,0-.286,0A4.7,4.7,0,0,1-1872.026-2439.461Zm16.681.135c-.048,0-.1,0-.144,0a.921.921,0,0,1-.977-1.054c-.007-1.1,0-2.2,0-3.3v-2.6a2.142,2.142,0,0,1,.036-.437.807.807,0,0,1,.729-.7,2.246,2.246,0,0,1,.358-.019c1.376,0,2.754,0,4.13,0a1.928,1.928,0,0,1,.566.075.6.6,0,0,1,.418.651.607.607,0,0,1-.407.66,1.74,1.74,0,0,1-.527.075c-1.018.007-2.036,0-3.052,0h-.407l0,0v1.753h2.917a3.354,3.354,0,0,1,.358.011.625.625,0,0,1,.622.7.619.619,0,0,1-.643.679c-.3.019-.6.009-.9.009h-1.976c-.118,0-.234.01-.375.017v1.983h.4c1.029,0,2.06,0,3.089,0a2.032,2.032,0,0,1,.532.066.613.613,0,0,1,.452.7.6.6,0,0,1-.461.656,2.115,2.115,0,0,1-.531.064q-1.051,0-2.1,0Zm-35.587-.146a.753.753,0,0,1-.382-.789,3.315,3.315,0,0,1,.167-.585q1.151-3.038,2.311-6.074a.84.84,0,0,1,.952-.65h.36a.93.93,0,0,1,1.046.738c.24.652.471,1.305.709,1.959.472,1.305.947,2.61,1.417,3.916a3.979,3.979,0,0,1,.191.654.778.778,0,0,1-.585.9.841.841,0,0,1-1.052-.448c-.141-.356-.255-.723-.384-1.083-.027-.077-.064-.152-.109-.262l0,0h-2.72a.247.247,0,0,0-.257.2c-.12.352-.242.7-.371,1.05a.879.879,0,0,1-.828.6A.952.952,0,0,1-1890.932-2439.472Zm3.17-6.05c-.339,1-.677,2-1.029,3.037h2.1c-.332-1.037-.65-2.047-1-3.046C-1887.713-2445.529-1887.736-2445.524-1887.762-2445.522Zm-60.911,5.285q-1.045-2.922-2.087-5.844a3.983,3.983,0,0,1-.14-.446.771.771,0,0,1,.459-.971.92.92,0,0,1,1.209.393,3.336,3.336,0,0,1,.2.536q.7,2.318,1.4,4.636c.045.148.1.291.176.523.073-.2.122-.317.161-.437q.745-2.36,1.489-4.722a3.557,3.557,0,0,1,.219-.568.827.827,0,0,1,1.08-.373.743.743,0,0,1,.519.9,2.157,2.157,0,0,1-.116.414c-.75,2.045-1.507,4.085-2.248,6.132a.949.949,0,0,1-.973.69h-.168C-1948.215-2439.373-1948.419-2439.525-1948.673-2440.237Zm14.525.076a2.126,2.126,0,0,1-.011-.288v-6.029c0-.07,0-.144,0-.214a.862.862,0,0,1,.928-.878.847.847,0,0,1,.885.917c.007,1.065,0,2.128,0,3.194v2.942c0,.1,0,.191,0,.287a.836.836,0,0,1-.834.855l-.072,0A.842.842,0,0,1-1934.148-2440.162Zm29,.671a2.191,2.191,0,0,1-.39-.043.778.778,0,0,1-.662-.667,2.378,2.378,0,0,1-.034-.463q0-2.923,0-5.847v-.107a.86.86,0,0,1,.922-.954.847.847,0,0,1,.883.952c0,1.71,0,3.42,0,5.131v.471h.821c.7,0,1.412,0,2.118,0a1.928,1.928,0,0,1,.495.06.71.71,0,0,1,.542.677.7.7,0,0,1-.5.708,1.617,1.617,0,0,1-.493.079q-.834,0-1.669,0Q-1904.132-2439.487-1905.146-2439.491Zm-15.6,0a2.207,2.207,0,0,1-.39-.043.774.774,0,0,1-.658-.669,2.827,2.827,0,0,1-.036-.463q0-2.925,0-5.848c0-.071,0-.144,0-.215a.85.85,0,0,1,.922-.842.831.831,0,0,1,.877.885c.006,1.734,0,3.468,0,5.2v.467h.422c.825,0,1.651,0,2.478,0a2.025,2.025,0,0,1,.532.062.7.7,0,0,1,.54.677.693.693,0,0,1-.5.7,1.592,1.592,0,0,1-.491.08q-.835,0-1.669,0Q-1919.733-2439.487-1920.747-2439.491Zm.72-1.526h0Zm5.8-12.923c-2.021-1.005-4.029-2.041-6.04-3.067-.448-.23-.523-.483-.291-.941q2.874-5.648,5.742-11.3a.665.665,0,0,1,1.022-.326c1.933,1,3.884,1.97,5.817,2.968a6.817,6.817,0,0,1,3.793,5.4,1.224,1.224,0,0,1,.012.174v.594a7.252,7.252,0,0,1-5.161,6.948,7.239,7.239,0,0,1-1.911.265A6.641,6.641,0,0,1-1914.231-2453.94Zm6.7-8.882c-.167.082-.071.277-.049.425a5.7,5.7,0,0,1-3.069,5.962,1.487,1.487,0,0,0-.277.163.153.153,0,0,0-.015.249,1.4,1.4,0,0,0,1.333.3,3.158,3.158,0,0,0,.448-.226,5.766,5.766,0,0,0,2.878-4.9h0c-.022-.29-.043-.527-.058-.765a1.153,1.153,0,0,0-.8-1.117,1.248,1.248,0,0,0-.331-.1A.133.133,0,0,0-1907.529-2462.823Zm59.605,9.521a7,7,0,0,1-6.481-6.153,18.629,18.629,0,0,1-.064-1.863s0-.01,0-.015q-.006-.073-.006-.147v-5.53a1.668,1.668,0,0,1,1.668-1.668,1.667,1.667,0,0,1,1.667,1.668v5.53c0,.053,0,.105-.007.157,0,.375,0,.75.005,1.125a3.7,3.7,0,0,0,2.756,3.532,3.708,3.708,0,0,0,4.662-3.543c.011-.8,0-1.6,0-2.407,0-.08,0-.159.008-.238v-4.155a1.668,1.668,0,0,1,1.668-1.668,1.667,1.667,0,0,1,1.667,1.668v5.793a1.713,1.713,0,0,1-.009.174c-.01.522,0,1.047-.062,1.564a7.015,7.015,0,0,1-6.987,6.193Q-1847.68-2453.286-1847.924-2453.3Zm-21.331-.187a2.612,2.612,0,0,1-2.266-2.6c.024-2.371.006-4.741.006-7.111a2.331,2.331,0,0,0-.006-.324.411.411,0,0,0-.41-.377.415.415,0,0,0-.435.388,2.7,2.7,0,0,0,0,.324c0,2.358,0,4.717,0,7.075a2.537,2.537,0,0,1-.652,1.775,2.575,2.575,0,0,1-2.786.713,2.6,2.6,0,0,1-1.726-2.381v-.107c0-2.645-.01-5.292,0-7.936a5.319,5.319,0,0,1,1.146-3.3,5.563,5.563,0,0,1,7.2-1.412.573.573,0,0,0,.673.006,5.548,5.548,0,0,1,8.249,3.734,5.786,5.786,0,0,1,.1,1.069c.01,1.282,0,2.561,0,3.843l0,0c0,1.353.019,2.707-.007,4.059a2.475,2.475,0,0,1-1.612,2.379,2.558,2.558,0,0,1-3.54-2.287c-.013-.468,0-.934,0-1.4v-5.854a2.5,2.5,0,0,0,0-.287.417.417,0,0,0-.427-.4.414.414,0,0,0-.42.4,3.21,3.21,0,0,0,0,.324v7a2.7,2.7,0,0,1-.21,1.155,2.65,2.65,0,0,1-2.455,1.548A3.039,3.039,0,0,1-1869.255-2453.489Zm-30.037.022a2.989,2.989,0,0,1-.386-.037,1,1,0,0,1-.714-1.535c.3-.546.628-1.082.941-1.623q3.37-5.777,6.736-11.556c.191-.326.384-.65.572-.977a1.053,1.053,0,0,1,1.26-.444,1.1,1.1,0,0,1,.587.534c.3.5.585,1,.874,1.5l7.253,12.444a1.166,1.166,0,0,1,.16,1.009.857.857,0,0,1-.6.594,2.218,2.218,0,0,1-.592.088q-3.649.01-7.3,0c-.1,0-.2-.014-.334-.022v-4.287h2.523a7.445,7.445,0,0,0-.716-.821c-.238-.264-.483-.519-.724-.778s-.487-.562-.75-.849a.519.519,0,0,1,.182,0,.62.62,0,0,0,.094.009c.3,0,.593,0,.89,0h.668c.114,0,.225-.011.431-.023l-2.977-2.821c-.988.937-1.948,1.846-2.91,2.756l.032.077h1.961c.006.013.038.007.069,0s.06-.012.066,0c-.682.778-1.517,1.582-2.2,2.36.011.026.022.05.032.075h2.439v4.306c-.107.009-.208.026-.311.026Zm-34.136,0a8.019,8.019,0,0,1-7.964-8.043,8.025,8.025,0,0,1,8.014-8,8.028,8.028,0,0,1,8.02,8.029,8.022,8.022,0,0,1-8.061,8.011Zm.2-2.829a5.091,5.091,0,0,0,4.955-4.478h-10.217A5.12,5.12,0,0,0-1933.229-2456.3Zm42.387,2.805h.009v.008Zm-63.976-.047a2.558,2.558,0,0,1-2.238-1.807,3.49,3.49,0,0,1-.116-.956c-.009-2.537,0-5.077,0-7.615a2.327,2.327,0,0,0-.009-.323.41.41,0,0,0-.392-.356.412.412,0,0,0-.438.345,2.232,2.232,0,0,0-.013.358q0,3.771,0,7.544a3.906,3.906,0,0,1-.067.857,2.583,2.583,0,0,1-2.529,1.957,2.6,2.6,0,0,1-2.495-2,3.037,3.037,0,0,1-.04-.606c0-2.657.025-5.317-.011-7.975a5.48,5.48,0,0,1,3.663-5.126,5.5,5.5,0,0,1,4.679.422l.337.191,0,0a5.592,5.592,0,0,1,2.143-.855,5.531,5.531,0,0,1,6.528,5.416c0,2.658.007,5.315,0,7.976a2.569,2.569,0,0,1-2.638,2.559,2.577,2.577,0,0,1-2.514-2.467c-.009-.144,0-.288,0-.431v-7.472a1.971,1.971,0,0,0-.013-.358.4.4,0,0,0-.409-.334.4.4,0,0,0-.407.334,2.22,2.22,0,0,0-.013.358v7.615a2.831,2.831,0,0,1-.3,1.387,2.642,2.642,0,0,1-2.392,1.374C-1954.62-2453.529-1954.718-2453.533-1954.818-2453.542Z" transform="translate(1963.173 2469.697)" fill="#fff"/>
                    </svg>
                    <button @click="$store.commit('closeOnboardingModal')" class="br-50 close-modal absolute">
                        <svg xmlns="http://www.w3.org/2000/svg" height="14.683" viewBox="0 0 14.647 14.683">
                            <path d="M5648.416,3695.679l-5.629-5.655-5.6,5.59a1,1,0,1,1-1.412-1.415l5.6-5.592-5.584-5.61a1,1,0,1,1,1.418-1.411l5.583,5.608,5.623-5.61a1,1,0,1,1,1.412,1.417l-5.624,5.611,5.631,5.657a1,1,0,1,1-1.418,1.411Z" transform="translate(-5635.478 -3681.291)" fill="#eee"/>
                        </svg>
                    </button>
                    <div id="onboarding_top_row" class="flx ai-c flx-1 top-row w-100"></div>
                </div>
                <div class="onboard-bottom flx column jc-sb gap-16">
                    <div id="onboarding_body_content"></div>
                    <div class="flx jc-sb ai-c">
                        <div>
                            <button v-if="!(page == 0 || page == 5)" @click="previous(this.page)" class="pagination gap-8 ai-c">
                                <span class="br-50 centered">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="22" viewBox="0 0 24 24">
                                        <path id="Path_253" data-name="Path 253" d="M-4898.59,2359.061a1.5,1.5,0,0,0,0-2.122l-7.94-7.939h17.38a1.5,1.5,0,0,0,1.5-1.5,1.5,1.5,0,0,0-1.5-1.5h-17.379l7.939-7.94a1.5,1.5,0,0,0,0-2.121,1.5,1.5,0,0,0-2.121,0l-10.5,10.5a1.5,1.5,0,0,0-.416,1.324.025.025,0,0,0,0,.006c0,.01,0,.02.005.029l0,.01c0,.009,0,.017.005.025l0,.012.006.023a.12.12,0,0,0,0,.013l.006.021s0,.01,0,.014,0,.014.006.021l0,.013.008.023a.088.088,0,0,0,0,.01l.009.025,0,.008.011.027,0,.006c0,.01.008.021.013.031v0a1.5,1.5,0,0,0,.321.476l10.5,10.5a1.5,1.5,0,0,0,1.061.44A1.492,1.492,0,0,0-4898.59,2359.061Z" transform="translate(4911.65 -2335.5)" fill="#2159f2"/>
                                    </svg>
                                </span>
                            </button>
                        </div>
                        <button v-if="page != 5" @click="next(this.end)" class="pagination gap-8 ai-c">
                            <div v-if="page != 0">{{ page }} / {{ end - 1 }}</div>
                            <h3>{{ computedButtonText }}</h3>
                            <span class="br-50 centered">
                                <svg xmlns="http://www.w3.org/2000/svg" height="22" viewBox="0 0 24 24">
                                    <path id="Path_253" data-name="Path 253" d="M-4900.71,2359.061a1.5,1.5,0,0,1,0-2.122l7.94-7.939h-17.38a1.5,1.5,0,0,1-1.5-1.5,1.5,1.5,0,0,1,1.5-1.5h17.379l-7.939-7.94a1.5,1.5,0,0,1,0-2.121,1.5,1.5,0,0,1,2.121,0l10.5,10.5a1.5,1.5,0,0,1,.416,1.324.025.025,0,0,1,0,.006c0,.01,0,.02-.005.029l0,.01c0,.009,0,.017-.005.025l0,.012-.006.023a.12.12,0,0,1,0,.013l-.006.021s0,.01,0,.014,0,.014-.006.021l0,.013-.008.023a.088.088,0,0,1,0,.01l-.009.025,0,.008-.011.027,0,.006c0,.01-.008.021-.013.031v0a1.5,1.5,0,0,1-.321.476l-10.5,10.5a1.5,1.5,0,0,1-1.061.44A1.492,1.492,0,0,1-4900.71,2359.061Z" transform="translate(4911.65 -2335.5)" fill="#2159f2"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <onboarding-welcome v-if="page == 0"/>
    <onboarding-one v-else-if="page == 1"/>
    <onboarding-two v-else-if="page == 2"/>
    <onboarding-three v-else-if="page == 3"/>
    <onboarding-four v-else-if="page == 4"/>
    <onboarding-completed v-else-if="5"/>
</template>
<script>
import OnboardingOne from '../includes/app/OnboardingOne.vue';
import OnboardingTwo from '../includes/app/OnboardingTwo.vue';
import OnboardingThree from '../includes/app/OnboardingThree.vue';
import OnboardingFour from '../includes/app/OnboardingFour.vue';
import OnboardingCompleted from '../includes/app/OnboardingCompleted.vue';
import OnboardingWelcome from '../includes/app/OnboardingWelcome.vue';
export default {
    components: { OnboardingWelcome, OnboardingOne, OnboardingTwo, OnboardingThree, OnboardingFour, OnboardingCompleted },
    name: 'OnboardingModal',
    computed: {
        computedButtonText() {
            let text = 'Get started'
            let current = this.page
            if(current == 1 || current == 2 || current == 3)
            return 'Next'
            else if(current == this.end -1)
            return 'Done'
            return text
        }
    },
    data() {
        return {
            page: 0,
            end: 5,
        }
    },
    methods: {
        next(end) {
            this.page += 1
            if(this.page == end) {
                this.completed()
            }
        },
        previous(current) {
            if(current != 0)
            this.page -= 1
        },
        completed() {
            setTimeout(() => {
                this.$store.commit('closeOnboardingModal')
            }, 1500);
        }
    }
}
</script>

<style lang="scss" scoped>
.dialog{
    position: fixed;
    inset: 0;
    z-index: 200;
    background-color: rgba($color: #000000, $alpha: 0.5);
}
.modal{
    --padding: 32px;
    --pagination-btn-height: 55px;
    border-radius: 16px;
    width: 650px;
    background-color: canvas;
    box-sizing: border-box;
    overflow: hidden;

}


// dialog {
//     --padding: 32px;
//     --pagination-btn-height: 55px;
//     border-radius: 16px;
//     width: 650px;
// }
h1, h2 {
    line-height: 1.2;
}
h1 {
    font-size: 3rem;
}
button{
    padding: unset;
    background-color: transparent;
}
button.close-modal {
    height: 48px;
    width: 48px;
    box-shadow: none;
    inset: 10px 10px auto auto;
    &:hover {
        background-color: #00000018;
        path{
            fill: var(--ft-white);
        }
    }
    &:focus-visible {
        outline: none
    }
}
button.pagination {
    span {
        transition: .3s background-color;
        height: var(--pagination-btn-height);
        width: var(--pagination-btn-height);
        inset: 10px 10px auto auto;
        border: 1px solid var(--primary-color);
    }
    &:hover {
        span {
            background-color: var(--primary-color);
        }
        path{
            fill: var(--ft-white);
        }
    }
}
.onboard-top{
    min-height: 250px;
    padding: var(--padding);
    background: rgb(99,165,230);
    background: radial-gradient(circle, rgba(99,165,230,1) 0%, rgba(81,81,239,1) 72%);
}
.onboard-bottom {
    padding: var(--padding);
    min-height: 250px;
}
@media screen and (max-width: 700px){
    .modal{
        --padding: 20px;
        --pagination-btn-height: 45px;
        max-width: 90% !important;
    }
}
@media screen and (max-width: 500px){
    h1 {
        font-size: 2rem;
    }
    h2 {
        font-size: 1.3rem;
    }
    h3 {
        font-size: 1rem;
    }
    button.pagination span{
        svg {
            height: 18px;
        }
    }
    .top-row{
        flex-direction: column-reverse;
    }
}
</style>