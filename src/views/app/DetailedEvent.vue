<template>
    <section>
        <div class="title-row flx gap-24 ai-c">
            <a class="flx gap-8 ai-c" href="#" @click.prevent="$router.go(-1)">
                <svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 8.414 14.828">
                    <path d="M7,1,1,7l6,6" transform="translate(0 0.414)" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                </svg>
                Back
            </a>
            <h3 class="title">
                Event info
            </h3>
        </div>
        <div class="flx gap-60">
            <div class="main-content-card details">
                <div class="grid gallery mb-16 gap-16">
                    <div class="grid-item image-1 bg-img" :style="images[0] ? { backgroundImage: 'url('+hostname+'/storage/'+village.id+'/'+images[0].image +')'} : ''">
                        <button v-if="is_village && images[0]" class="br-50 absolute" @click="delImage(images[0].id)">
                            <svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 17.5 21">
                                <path id="Path_44" data-name="Path 44" d="M-3568.023-836.575a6.145,6.145,0,0,1-1.2-2.411c-.266-.878-.493-1.9-.78-3.2l-.152-.686c-.69-3.1-.346-5.1,1.082-6.3a6.375,6.375,0,0,1,2.894-1.23,22.93,22.93,0,0,1,4.43-.345,22.933,22.933,0,0,1,4.431.345,6.39,6.39,0,0,1,2.894,1.23c1.427,1.2,1.771,3.2,1.082,6.3l-.151.684c-.287,1.3-.514,2.326-.78,3.2a6.145,6.145,0,0,1-1.2,2.411c-1.031,1.148-2.731,1.575-6.273,1.575S-3566.992-835.427-3568.023-836.575Zm2.189-12.115a4.815,4.815,0,0,0-2.116.857c-1.145.958-.832,3.072-.5,4.578q.08.355.152.686c.279,1.264.5,2.262.745,3.075a4.667,4.667,0,0,0,.829,1.75c.463.517,1.387.995,4.971.995s4.508-.478,4.971-.995a4.672,4.672,0,0,0,.828-1.75c.247-.815.467-1.812.746-3.074q.073-.332.152-.687c.7-3.146.051-4.119-.5-4.578a4.82,4.82,0,0,0-2.116-.857,21.307,21.307,0,0,0-4.085-.31A21.3,21.3,0,0,0-3565.834-848.69Zm6.709,8.44v-5.25a.875.875,0,0,1,.875-.876.875.875,0,0,1,.875.876v5.25a.874.874,0,0,1-.875.875A.874.874,0,0,1-3559.125-840.25Zm-3.5,0v-5.25a.876.876,0,0,1,.875-.876.876.876,0,0,1,.876.876v5.25a.875.875,0,0,1-.876.875A.875.875,0,0,1-3562.625-840.25Zm-3.517,0v-5.25a.875.875,0,0,1,.875-.876.875.875,0,0,1,.875.876v5.25a.874.874,0,0,1-.875.875A.875.875,0,0,1-3566.142-840.25Zm11.816-10.625a14.576,14.576,0,0,0-7.424-1.625c-3.911,0-6.362.943-7.4,1.611a.876.876,0,0,1-1.21-.264.875.875,0,0,1,.264-1.209,14.509,14.509,0,0,1,6.6-1.827v-.937a.875.875,0,0,1,.875-.875h1.751a.875.875,0,0,1,.875.875v.937a14.935,14.935,0,0,1,6.576,1.814.874.874,0,0,1,.3,1.2.875.875,0,0,1-.75.424A.869.869,0,0,1-3554.326-850.875Z" transform="translate(3570.5 856)" fill="#fff"/>
                            </svg>
                        </button>
                    </div>
                    <div class="grid-item image-2 bg-img" :style="images[1] ? { backgroundImage: 'url('+hostname+'/storage/'+village.id+'/'+images[1].image +')'} : ''">
                        <button v-if="is_village && images[1]" class="br-50 absolute" @click="delImage(images[1].id)">
                            <svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 17.5 21">
                                <path id="Path_44" data-name="Path 44" d="M-3568.023-836.575a6.145,6.145,0,0,1-1.2-2.411c-.266-.878-.493-1.9-.78-3.2l-.152-.686c-.69-3.1-.346-5.1,1.082-6.3a6.375,6.375,0,0,1,2.894-1.23,22.93,22.93,0,0,1,4.43-.345,22.933,22.933,0,0,1,4.431.345,6.39,6.39,0,0,1,2.894,1.23c1.427,1.2,1.771,3.2,1.082,6.3l-.151.684c-.287,1.3-.514,2.326-.78,3.2a6.145,6.145,0,0,1-1.2,2.411c-1.031,1.148-2.731,1.575-6.273,1.575S-3566.992-835.427-3568.023-836.575Zm2.189-12.115a4.815,4.815,0,0,0-2.116.857c-1.145.958-.832,3.072-.5,4.578q.08.355.152.686c.279,1.264.5,2.262.745,3.075a4.667,4.667,0,0,0,.829,1.75c.463.517,1.387.995,4.971.995s4.508-.478,4.971-.995a4.672,4.672,0,0,0,.828-1.75c.247-.815.467-1.812.746-3.074q.073-.332.152-.687c.7-3.146.051-4.119-.5-4.578a4.82,4.82,0,0,0-2.116-.857,21.307,21.307,0,0,0-4.085-.31A21.3,21.3,0,0,0-3565.834-848.69Zm6.709,8.44v-5.25a.875.875,0,0,1,.875-.876.875.875,0,0,1,.875.876v5.25a.874.874,0,0,1-.875.875A.874.874,0,0,1-3559.125-840.25Zm-3.5,0v-5.25a.876.876,0,0,1,.875-.876.876.876,0,0,1,.876.876v5.25a.875.875,0,0,1-.876.875A.875.875,0,0,1-3562.625-840.25Zm-3.517,0v-5.25a.875.875,0,0,1,.875-.876.875.875,0,0,1,.875.876v5.25a.874.874,0,0,1-.875.875A.875.875,0,0,1-3566.142-840.25Zm11.816-10.625a14.576,14.576,0,0,0-7.424-1.625c-3.911,0-6.362.943-7.4,1.611a.876.876,0,0,1-1.21-.264.875.875,0,0,1,.264-1.209,14.509,14.509,0,0,1,6.6-1.827v-.937a.875.875,0,0,1,.875-.875h1.751a.875.875,0,0,1,.875.875v.937a14.935,14.935,0,0,1,6.576,1.814.874.874,0,0,1,.3,1.2.875.875,0,0,1-.75.424A.869.869,0,0,1-3554.326-850.875Z" transform="translate(3570.5 856)" fill="#fff"/>
                            </svg>
                        </button>
                    </div>
                    <div class="grid-item image-3 bg-img" :style="images[2] ? { backgroundImage: 'url('+hostname+'/storage/'+village.id+'/'+images[2].image +')'} : ''">
                        <button v-if="is_village && images[2]" class="br-50 absolute" @click="delImage(images[2].id)">
                            <svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 17.5 21">
                                <path id="Path_44" data-name="Path 44" d="M-3568.023-836.575a6.145,6.145,0,0,1-1.2-2.411c-.266-.878-.493-1.9-.78-3.2l-.152-.686c-.69-3.1-.346-5.1,1.082-6.3a6.375,6.375,0,0,1,2.894-1.23,22.93,22.93,0,0,1,4.43-.345,22.933,22.933,0,0,1,4.431.345,6.39,6.39,0,0,1,2.894,1.23c1.427,1.2,1.771,3.2,1.082,6.3l-.151.684c-.287,1.3-.514,2.326-.78,3.2a6.145,6.145,0,0,1-1.2,2.411c-1.031,1.148-2.731,1.575-6.273,1.575S-3566.992-835.427-3568.023-836.575Zm2.189-12.115a4.815,4.815,0,0,0-2.116.857c-1.145.958-.832,3.072-.5,4.578q.08.355.152.686c.279,1.264.5,2.262.745,3.075a4.667,4.667,0,0,0,.829,1.75c.463.517,1.387.995,4.971.995s4.508-.478,4.971-.995a4.672,4.672,0,0,0,.828-1.75c.247-.815.467-1.812.746-3.074q.073-.332.152-.687c.7-3.146.051-4.119-.5-4.578a4.82,4.82,0,0,0-2.116-.857,21.307,21.307,0,0,0-4.085-.31A21.3,21.3,0,0,0-3565.834-848.69Zm6.709,8.44v-5.25a.875.875,0,0,1,.875-.876.875.875,0,0,1,.875.876v5.25a.874.874,0,0,1-.875.875A.874.874,0,0,1-3559.125-840.25Zm-3.5,0v-5.25a.876.876,0,0,1,.875-.876.876.876,0,0,1,.876.876v5.25a.875.875,0,0,1-.876.875A.875.875,0,0,1-3562.625-840.25Zm-3.517,0v-5.25a.875.875,0,0,1,.875-.876.875.875,0,0,1,.875.876v5.25a.874.874,0,0,1-.875.875A.875.875,0,0,1-3566.142-840.25Zm11.816-10.625a14.576,14.576,0,0,0-7.424-1.625c-3.911,0-6.362.943-7.4,1.611a.876.876,0,0,1-1.21-.264.875.875,0,0,1,.264-1.209,14.509,14.509,0,0,1,6.6-1.827v-.937a.875.875,0,0,1,.875-.875h1.751a.875.875,0,0,1,.875.875v.937a14.935,14.935,0,0,1,6.576,1.814.874.874,0,0,1,.3,1.2.875.875,0,0,1-.75.424A.869.869,0,0,1-3554.326-850.875Z" transform="translate(3570.5 856)" fill="#fff"/>
                            </svg>
                        </button>
                    </div>
                    <div class="grid-item image-4 bg-img" :style="images[3] ? { backgroundImage: 'url('+hostname+'/storage/'+village.id+'/'+images[3].image +')'} : ''">
                        <button v-if="is_village && images[3]" class="br-50 absolute" @click="delImage(images[3].id)">
                            <svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 17.5 21">
                                <path id="Path_44" data-name="Path 44" d="M-3568.023-836.575a6.145,6.145,0,0,1-1.2-2.411c-.266-.878-.493-1.9-.78-3.2l-.152-.686c-.69-3.1-.346-5.1,1.082-6.3a6.375,6.375,0,0,1,2.894-1.23,22.93,22.93,0,0,1,4.43-.345,22.933,22.933,0,0,1,4.431.345,6.39,6.39,0,0,1,2.894,1.23c1.427,1.2,1.771,3.2,1.082,6.3l-.151.684c-.287,1.3-.514,2.326-.78,3.2a6.145,6.145,0,0,1-1.2,2.411c-1.031,1.148-2.731,1.575-6.273,1.575S-3566.992-835.427-3568.023-836.575Zm2.189-12.115a4.815,4.815,0,0,0-2.116.857c-1.145.958-.832,3.072-.5,4.578q.08.355.152.686c.279,1.264.5,2.262.745,3.075a4.667,4.667,0,0,0,.829,1.75c.463.517,1.387.995,4.971.995s4.508-.478,4.971-.995a4.672,4.672,0,0,0,.828-1.75c.247-.815.467-1.812.746-3.074q.073-.332.152-.687c.7-3.146.051-4.119-.5-4.578a4.82,4.82,0,0,0-2.116-.857,21.307,21.307,0,0,0-4.085-.31A21.3,21.3,0,0,0-3565.834-848.69Zm6.709,8.44v-5.25a.875.875,0,0,1,.875-.876.875.875,0,0,1,.875.876v5.25a.874.874,0,0,1-.875.875A.874.874,0,0,1-3559.125-840.25Zm-3.5,0v-5.25a.876.876,0,0,1,.875-.876.876.876,0,0,1,.876.876v5.25a.875.875,0,0,1-.876.875A.875.875,0,0,1-3562.625-840.25Zm-3.517,0v-5.25a.875.875,0,0,1,.875-.876.875.875,0,0,1,.875.876v5.25a.874.874,0,0,1-.875.875A.875.875,0,0,1-3566.142-840.25Zm11.816-10.625a14.576,14.576,0,0,0-7.424-1.625c-3.911,0-6.362.943-7.4,1.611a.876.876,0,0,1-1.21-.264.875.875,0,0,1,.264-1.209,14.509,14.509,0,0,1,6.6-1.827v-.937a.875.875,0,0,1,.875-.875h1.751a.875.875,0,0,1,.875.875v.937a14.935,14.935,0,0,1,6.576,1.814.874.874,0,0,1,.3,1.2.875.875,0,0,1-.75.424A.869.869,0,0,1-3554.326-850.875Z" transform="translate(3570.5 856)" fill="#fff"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="flx column gap-24 relative">
                    <div class="flx jc-sb ai-c">
                        <div class="flx gap-8 ai-c avatar-wrapper">
                            <profile-avatar :id="village.id" :image="village.image"/>
                            <h1>{{ event.name }}</h1>
                        </div>
                        <div class="flx gap-8 ai-c">
                            <div>Price per child</div>
                            <span class="price br-24">${{ event.amount }}</span>
                        </div>
                    </div>
                    <div v-if="event.description">
                        <label for="about" class="gray">Event info</label>
                        <p id="about" class="mb-0">
                            {{ event.description }}
                        </p>
                    </div>
                    <div class="flx gap-8 ai-c">
                        <div class="title flx gap-8 ai-c">
                            <svg xmlns="http://www.w3.org/2000/svg" height="18" viewBox="0 0 14.206 15.515">
                                <path d="M-3581.85-457.886a.637.637,0,0,1-.218-.873l2.629-4.382-4.9-2.83.419-.572a6.52,6.52,0,0,1,1.288-1.317,6.474,6.474,0,0,1,2.276-1.122,6.484,6.484,0,0,1,1.684-.222,6.539,6.539,0,0,1,.849.056q.216.029.428.071a4.167,4.167,0,0,1-.434-1.035,4.154,4.154,0,0,1-.106-1.623,4.244,4.244,0,0,1,.206-.856l.256-.719,7.339,4.237-.495.581a4.156,4.156,0,0,1-.637.607,4.147,4.147,0,0,1-1.458.719,4.178,4.178,0,0,1-1.089.142q.157.176.3.365a6.47,6.47,0,0,1,1.122,2.277,6.477,6.477,0,0,1,.167,2.533,6.5,6.5,0,0,1-.5,1.773l-.285.65-5.331-3.078-2.64,4.4a.637.637,0,0,1-.546.309A.631.631,0,0,1-3581.85-457.886Zm1.823-9.867a5.205,5.205,0,0,0-1.832.9,5.34,5.34,0,0,0-.573.511l8.79,5.075a5.2,5.2,0,0,0,.157-.752,5.2,5.2,0,0,0-.134-2.037,5.2,5.2,0,0,0-.9-1.832,5.215,5.215,0,0,0-1.534-1.346,5.222,5.222,0,0,0-1.933-.656,5.225,5.225,0,0,0-.679-.044A5.253,5.253,0,0,0-3580.027-467.753Zm3.427-2.689a2.891,2.891,0,0,0,.5,1.013,2.892,2.892,0,0,0,.85.745,2.877,2.877,0,0,0,1.069.363,2.905,2.905,0,0,0,1.128-.074,2.882,2.882,0,0,0,.866-.394l-4.5-2.6A2.912,2.912,0,0,0-3576.6-470.442Z" transform="translate(3584.34 473.31)" fill="#212135"/>
                            </svg>
                            <span>Village</span>
                        </div>
                        <div class="value">
                            {{ village.name }}
                        </div>
                    </div>
                    <div class="flx gap-8 ai-c">
                        <div class="title flx gap-8 ai-c">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 24 26">
                                <path d="M-3300-660c0-.707.011-1.372.035-2q.019-.516.051-1,.034-.518.083-1c.5-4.965,2.267-7.018,6.832-7.707V-673a1,1,0,0,1,1-1,1,1,0,0,1,1,1v1.085c.911-.059,1.908-.086,3-.086s2.09.026,3,.086V-673a1,1,0,0,1,1-1,1,1,0,0,1,1,1v1.293c4.566.688,6.327,2.741,6.832,7.707.033.321.06.654.083,1,.022.322.038.655.052,1,.023.629.034,1.3.034,2,0,9.882-2.118,12-12,12S-3300-650.118-3300-660Zm2,0a26.907,26.907,0,0,0,.438,5.61,5.206,5.206,0,0,0,1.271,2.681,5.214,5.214,0,0,0,2.681,1.271A26.852,26.852,0,0,0-3288-650a26.842,26.842,0,0,0,5.61-.438,5.214,5.214,0,0,0,2.682-1.271,5.214,5.214,0,0,0,1.27-2.681A26.831,26.831,0,0,0-3278-660c0-.716-.011-1.381-.036-2h-19.928C-3297.989-661.38-3298-660.715-3298-660Zm2.108-8.634c-.944.692-1.625,1.908-1.929,4.633h19.642c-.3-2.725-.985-3.941-1.93-4.633a6.7,6.7,0,0,0-2.892-1.048V-669a1,1,0,0,1-1,1,1,1,0,0,1-1-1v-.909c-.869-.061-1.861-.091-3-.091s-2.132.03-3,.091V-669a1,1,0,0,1-1,1,1,1,0,0,1-1-1v-.681A6.7,6.7,0,0,0-3295.892-668.633Zm13.185,15.341-1.293-1.293-1.292,1.293a1,1,0,0,1-1.415,0,1,1,0,0,1,0-1.414l1.293-1.293-1.293-1.292a1,1,0,0,1,0-1.415,1,1,0,0,1,1.415,0l1.292,1.293,1.293-1.293a1,1,0,0,1,1.414,0,1,1,0,0,1,0,1.415l-1.292,1.292,1.292,1.293a1,1,0,0,1,0,1.414A1,1,0,0,1-3282-653,1,1,0,0,1-3282.707-653.293ZM-3294-653a1,1,0,0,1-1-1,1,1,0,0,1,1-1h3a1,1,0,0,1,1,1,1,1,0,0,1-1,1Zm0-4a1,1,0,0,1-1-1,1,1,0,0,1,1-1h3a1,1,0,0,1,1,1,1,1,0,0,1-1,1Z" transform="translate(3300 674)"/>
                            </svg>
                            <span>Date</span>
                        </div>
                        <div class="value">
                            {{ format_date(event.date) }}
                        </div>
                    </div>
                    <div class="flx gap-8 ai-c">
                        <div class="title flx gap-8 ai-c">
                            <svg id="Watch" xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 17.692 23">
                                <path d="M4.993,2.782a1.9,1.9,0,0,0-.527,1.064,23.932,23.932,0,0,1,4.38-.307,23.932,23.932,0,0,1,4.38.307A1.9,1.9,0,0,0,12.7,2.782c-.482-.482-1.53-1.013-3.853-1.013S5.475,2.3,4.993,2.782ZM3.742,1.531A3.936,3.936,0,0,0,2.654,4.418C.575,5.44,0,7.522,0,11.5s.575,6.06,2.654,7.082a3.936,3.936,0,0,0,1.088,2.888C4.7,22.425,6.3,23,8.846,23s4.148-.575,5.1-1.531a3.936,3.936,0,0,0,1.089-2.888c2.079-1.022,2.654-3.1,2.654-7.082s-.575-6.06-2.654-7.082A3.936,3.936,0,0,0,13.95,1.531C12.994.575,11.389,0,8.846,0S4.7.575,3.742,1.531Zm9.484,17.624a23.939,23.939,0,0,1-4.38.307,23.939,23.939,0,0,1-4.38-.307,1.9,1.9,0,0,0,.527,1.064c.482.482,1.53,1.013,3.853,1.013s3.371-.531,3.853-1.013A1.9,1.9,0,0,0,13.226,19.154ZM2.875,16.624c-.658-.592-1.106-1.8-1.106-5.124s.448-4.532,1.106-5.124A3.815,3.815,0,0,1,4.738,5.6a21.859,21.859,0,0,1,4.108-.288,21.859,21.859,0,0,1,4.108.288,3.816,3.816,0,0,1,1.863.78c.658.592,1.106,1.8,1.106,5.124s-.448,4.532-1.106,5.124a3.816,3.816,0,0,1-1.863.78,21.863,21.863,0,0,1-4.108.288A21.864,21.864,0,0,1,4.738,17.4,3.816,3.816,0,0,1,2.875,16.624Z" fill-rule="evenodd"/>
                                <path d="M13.269,12.384H9.731a1.776,1.776,0,0,1-1.4-.37,1.776,1.776,0,0,1-.37-1.4V7.961a.885.885,0,1,1,1.769,0v2.654h3.538a.885.885,0,1,1,0,1.769Z"/>
                            </svg>
                            <span>Event starts</span>
                        </div>
                        <div class="value">
                            {{ format_time(event.start_time +' :00')}}
                        </div>
                    </div>
                    <div class="flx gap-8 ai-c">
                        <div class="title flx gap-8 ai-c">
                            <svg id="Watch" xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 17.692 23">
                                <path d="M4.993,2.782a1.9,1.9,0,0,0-.527,1.064,23.932,23.932,0,0,1,4.38-.307,23.932,23.932,0,0,1,4.38.307A1.9,1.9,0,0,0,12.7,2.782c-.482-.482-1.53-1.013-3.853-1.013S5.475,2.3,4.993,2.782ZM3.742,1.531A3.936,3.936,0,0,0,2.654,4.418C.575,5.44,0,7.522,0,11.5s.575,6.06,2.654,7.082a3.936,3.936,0,0,0,1.088,2.888C4.7,22.425,6.3,23,8.846,23s4.148-.575,5.1-1.531a3.936,3.936,0,0,0,1.089-2.888c2.079-1.022,2.654-3.1,2.654-7.082s-.575-6.06-2.654-7.082A3.936,3.936,0,0,0,13.95,1.531C12.994.575,11.389,0,8.846,0S4.7.575,3.742,1.531Zm9.484,17.624a23.939,23.939,0,0,1-4.38.307,23.939,23.939,0,0,1-4.38-.307,1.9,1.9,0,0,0,.527,1.064c.482.482,1.53,1.013,3.853,1.013s3.371-.531,3.853-1.013A1.9,1.9,0,0,0,13.226,19.154ZM2.875,16.624c-.658-.592-1.106-1.8-1.106-5.124s.448-4.532,1.106-5.124A3.815,3.815,0,0,1,4.738,5.6a21.859,21.859,0,0,1,4.108-.288,21.859,21.859,0,0,1,4.108.288,3.816,3.816,0,0,1,1.863.78c.658.592,1.106,1.8,1.106,5.124s-.448,4.532-1.106,5.124a3.816,3.816,0,0,1-1.863.78,21.863,21.863,0,0,1-4.108.288A21.864,21.864,0,0,1,4.738,17.4,3.816,3.816,0,0,1,2.875,16.624Z" fill-rule="evenodd"/>
                                <path d="M13.269,12.384H9.731a1.776,1.776,0,0,1-1.4-.37,1.776,1.776,0,0,1-.37-1.4V7.961a.885.885,0,1,1,1.769,0v2.654h3.538a.885.885,0,1,1,0,1.769Z"/>
                            </svg>
                            <span>Event ends</span>
                        </div>
                        <div class="value">
                            {{ format_time(event.end_time +' :00' ) }}
                        </div>
                    </div>
                    <button @click="setID" v-if="is_village" class="button-primary absolute gap-8" :class="{ 'button-disabled' : images.length == 4 }" :disabled="images.length == 4 ? true : false">
                        <svg xmlns="http://www.w3.org/2000/svg" height="18" viewBox="0 0 20 20">
                            <path d="M-3266.055-837.995a1.029,1.029,0,0,1-1.021-1.034l.048-7.944-7.944-.048a1.028,1.028,0,0,1-1.022-1.034,1.028,1.028,0,0,1,1.034-1.021l7.944.048.048-7.944a1.028,1.028,0,0,1,1.034-1.021,1.027,1.027,0,0,1,1.021,1.034l-.048,7.944,7.945.048a1.029,1.029,0,0,1,1.021,1.034,1.028,1.028,0,0,1-1.034,1.022l-7.944-.048-.048,7.944a1.03,1.03,0,0,1-1.03,1.022Z" transform="translate(3275.994 857.994)" fill="#fff"/>
                        </svg>
                        Add Pictures to event gallery
                    </button>
                    <button v-else @click="bookNow " class="button-primary absolute gap-8 book-now" :class="{ 'button-disabled' : pastEvent }" :disabled="pastEvent ? true : false">
                        Book now
                    </button>
                </div>
            </div>
            <div v-if="is_village" class="main-content-card flx-grow-1">
                <h4 class="mb-16">
                    In attendance
                </h4>
                <div class="input-wrapper">
                    <i>
                        <svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 13.974 13.974">
                            <path d="M-3384.438-704.614l-1.494-1.5c-1.017.746-2.525,1.083-4.788,1.083-2.569,0-4.164-.435-5.174-1.408-1.052-1.015-1.521-2.646-1.521-5.288s.469-4.273,1.521-5.288c1.01-.974,2.605-1.408,5.174-1.408s4.164.434,5.174,1.408c1.053,1.014,1.522,2.645,1.522,5.288,0,2.244-.338,3.759-1.085,4.786l1.5,1.5a.583.583,0,0,1,0,.824.58.58,0,0,1-.412.171A.582.582,0,0,1-3384.438-704.614Zm-10.647-11.556c-.795.766-1.165,2.18-1.165,4.448s.37,3.682,1.165,4.449c.775.747,2.121,1.08,4.364,1.08s3.589-.333,4.364-1.08c.795-.767,1.165-2.181,1.165-4.449s-.37-3.682-1.165-4.448c-.775-.748-2.12-1.081-4.364-1.081S-3394.311-716.918-3395.085-716.17Z" transform="translate(3397.417 718.417)" fill="#212135"/>
                        </svg>
                    </i>
                    <input class="form-control" type="text" data-type="icon" data-color="dark" placeholder="Search Kids by name...">
                </div>
                <div class="kids-view">
                    <div class="empty centered" v-if="!computedAttendees.length">
                        No kids attending yet
                    </div>
                    <div v-else class="kids">
                        <div class="kid-row">
                            <kids-row v-for="kid in computedAttendees" :key="kid.id" :kid="kid" :event="$route.params.id" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</template>
<script>
import formatDateTime from '../../mixins/formatDateTime';
import axios from 'axios';
import usersLevelMixin from '../../mixins/usersLevelMixin';
import { mapState } from 'vuex';
import KidsRow from '../../components/includes/app/KidsRow.vue';
import ProfileAvatar from '../../components/includes/app/ProfileAvatar.vue';
export default {
  components: { KidsRow, ProfileAvatar },
    name: 'DetailedEvent',
    mixins: [usersLevelMixin, formatDateTime],
    computed: {
        ...mapState({
            hostname: (state) => state.hostname,
            token: (state) => state.token
        }),
        pastEvent() {
            const currentDateTime = new Date()
            const endDate = new Date(this.event.date+'T'+this.event.end_time)
            if(currentDateTime > endDate)
            return true
            else
            return false
        },
        computedAttendees() {
            return this.kids.length ? this.kids.filter(data => data.event_id == this.$route.params.id) : ''
        }
    },
    data () {
        return {
            event: {},
            kids: [],
            images: [],
            village: {}
        }
    },
    methods: {
        bookNow() {
            !this.pastEvent ? this.$router.push({ name: 'BookingSelectKids', params: { event_id: this.event.id, village: this.event.user_id, event_name: this.event.name, event_price: this.event.amount }}) : ''
        },
        async setID(){
            await this.$store.commit('setTempID', this.event.id)
            this.$store.commit('openModal', 'add-to-gallery')
        },
        fetchThisEvent() {
            this.$store.dispatch('fetchThisEvent', this.$route.params.id)
            .then((res) => {
                this.event = res.data.event
                this.kids = res.data.attendees
                this.images = res.data.images
                this.village = res.data.user

            }).catch((err) => {
                console.log(err.response.data)
            })
        },
        delImage(id) {
            axios.delete(this.hostname + '/api/del-this-image/' + id + '?token='+this.token)
            .then(() => {
                location.reload()
            }).catch((err) => {
                console.log(err.response);
            });
        }
    },
    created() {
        this.fetchThisEvent()
    }
}
</script>
<style lang="scss" scoped>
section {
    padding: $profileSecPadding 0;
}
.details{
    flex-basis: 55%;
}
.grid-item{
    background-color: var(--bg-color);
    border-radius: 16px;
    position: relative;
    button {
        padding: 0;
        height: 40px;
        width: 40px;
        background-color: rgba(0, 0, 0, 0.4);
        inset: 8px 8px auto auto;
        &:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }
    }
}
.grid {
    gap: 0.8rem;
    grid-template-columns: 1.2fr 1.5fr 1fr;
}
.image-1 {
    grid-row: span 2;
}
.image-4 {
    grid-column: span 2;
}
.gallery{
    height: 300px;
}
.avatar-wrapper{
    .bg-img{
        height: 50px;
        width: 50px;
    }
}

label {
    font-size: 0.9rem;
}
.title{
    flex-basis: 30%;
}
.value{
    font-weight: 600;
}
.button-primary {
    right: 0;
    bottom: 0;
    height: 52px;
}
.empty{
    height: calc(100vh - 418px);

}
.kids-view{
    padding: 24px 0;
}
.book-now{
    padding-right: 50px;
    padding-left: 50px;
}

</style>